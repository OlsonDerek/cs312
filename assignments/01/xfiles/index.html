<!DOCTYPE html>
<html>
<head>
<title>Playing with the Canvas</title>
</head>

<body>
   <canvas id="myCanvas" width="600" height="600" >
      Your browser does not support the HTML5 canvas tag.
   </canvas> 

   <script language="JavaScript" src="RenderBuffer.js"></script>   

   <script>
      // Let RenderBuffer handle creating the imageData and context
      var renderBuffer = new RenderBuffer("myCanvas");

      var b = 0;   // In this simple example, blue stays 0
      var a = 255; // ... and alpha stays at 255
      
      // Loop over y first, then x
      // Draw the gradient to the imageData using the
      // renderBuffer's setPixel function.
      // black in the upper left, red in the lower left,
      // green in the upper right, and yellow in the lower right.
      for  (var y = 0; y < renderBuffer.height; y++)
      {
         // red increases as y increases. TODO: improve efficiency
         var r = y * 255 / (renderBuffer.height - 1);
       
         for (var x = 0; x < renderBuffer.width; x++)
         {
            // green increases as x increases. TODO: improve efficiency
            var g = x * 255 / (renderBuffer.width - 1);
       
            renderBuffer.setPixel(x, y, r, g, b, a);
         }
      }
   
      renderBuffer.flush();

   </script>
</body>
</html>
